# teenfit
학교에서 핏한 몸 관리 실천 하기

# teenfit #teenfitschool
학교생활을 fit하게 건강관리
1. 수면: 취침/ 기상 시간 기록과 수면시간 규칙성 점수화: 취침 시간 알람 설정 알람이 울리면 알람을 끈 시간을 저장, 기상 알림 설정후 기상 알림 끈 시간 저장하기, 수면시간 저장하고 수면시간이 부족하거나, 과하면 안내 메시지 들려주기 "30분전만 전에 자면 수면질이 달라져요","핸드폰을 ~~~"
2. 학생 체질(알레르기, 질병)에 따른 오늘이 급식 메뉴 관리: 가상데이터는 chat에게 500건, 급식은 api로 실시간 가져오기, csv 파일로 업로드 
3. 운동 미션: 건강관리를 위한 운동_올레길(만보기 기능), 교내에서 사제동행 걷기 포인트 적립하기. 적립금에 해당하는 필기구, 상품권 지급
   - 점심식사후 급식 칼로리에 비례하여 권장 걸음수 제공
   - 5일, 15일, 30일 단위로 자신이 짠 운동 계획을 학생이 입력하고 계획을 달성하면 달성률에 따라 포인트 적립
   - 적립된 포인트는 매달 관리자는 합산결과를 시각화하여 표시한다. 포인트 지급방식은 학교재량에 맡긴다.
   
## kiro 프롬프트
1. 리액트, 자바스크립트로 중고등학생이 교내에서 학생 개별 건강관리를 해주는 앱 만들어줘
2. 인트로화면 상단에는 **TeenFit** 원형 로고를 그라데이션으로 만들어 상단에 배치 해줘
3. 인트로화면에 로그인 탭은 원형 로고 아래에  학생탭, 교사탭, 관리자탭 로그인 페이지를 탭 컴포넌트로 작성해줘
4. 교사는 green색상,학생은 orange 색상, 관리자는 blue 색상 으로 앱 컴포넌트의 모든 UI 색상을 통일해줘.
5. 학생 테스트 데이터는 500건으로 하고 학년,반,번호,이름,이메일,폰번호는 개인정보 데이터
6. 학생 테스트 데이터로 BMI 지수를 항목으로 하는 bmi.csv 파일을 만들어줘
7. bmi.csv 파일에 항목으로 알러지, 질병, 기타 항목에는 학생이 먹지 않는 메뉴로 구성하여 전체 500명중에 50건 추가하고 fit.csv 파일로 총 500건 생성하여 다운로드 받을 수 있게 만들어줘
8. 교사 테스트 데이터 항목으로 폰번호, 이름, 담임유무는 O, X로 선택할수 있고, 비교과 교사 항목에는 보건, 사서, 상담, 영양사로 구성하여 50건의 teachers.csv 파일로 다운로드 받을 수 있도록 작성해줘
9. 관리자 teenfit 앱 전체 데이터를 관리하고 비밀번호 분실시 비번 재설정, csv 파일 관리 등 권한을 가짐.

## 학교생활로 fit 한 몸짱 만들기 
1. 체육선생님혹은 담임선생님은 3월에 학생들의 키와 몸무게를 나이스에 건강기록부에 입력하면 BMI(Body Mass Index) 체질량지수가 자동으로 산출된다.
2. BMI지수로 저체중: 18.5 미만, 정상체중: 18.5 ~ 24.9, 과체중: 25.0 ~ 29.9, 비만 1단계: 30.0 ~ 34.9, 비만 2단계: 35.0 ~ 39.9, 고도비만: 40.0 이상
3. 고도비만 학생에게 칼로리 높은 메뉴를 알려주고, 섭취량을 줄여 줄것을 메일 발송하여 식단 관리를 스스로 할 수 있도록 유도한다.
4. 고도비만 학생은 경상북도에서 관리하는 **아이날씬 홈페이지**에서 제공하는 정보를 얻을 수 있도록 한다.
5. 고도비만 학생은 매주 금요일 점심시간에 보건실에 방문하여 키, 몸무게를 측정하여 앱에 기록하고 한달간의 데이터를 시각화하고 부모님에게도 메일을 발송하여 자녀의 건강 상태를 확인할 수 있게하여 집에서 식습관 개선으로 건강한 체질로 개선 될 수 있도록 한다.
6. 3월 학기초기에 **건강상태조사서**에는 학생 개별 알레르기와 질병을 보건교사가 데이터를 정리하여 영양사에게 자료를 넘기면 영양사가 관리한다.
7. 이 앱은 학생이 로그인하면 일주일간의 식단에서 예) 로그인 한 학생이 복숭아 알레르기가 있다면 학생 에게 매주 토요일 9시에 메일발송하여 "월요일 점심 메뉴에 복숭아는 홍길동학생이 알레르기가 있으니 먹지마세요" 라고 알림 메일 발송한다.
8. 3월 학기초기에 **건강상태조사서** 데이터를 담임교사는 학교행사일정 **체육대회,수련회, 수학여행** 학생에게 체육대회나 수련회시 격한 운동을 하지않도록 알림 메일 발송을 행사 일주일 전에 메일 일괄 메일 발송한다.
9. 사제동행 걷기 프로그램을 했다. 비만관리 건강증진, 체중감량 도전, 미션에 성공하면 3달간에 감량하면 상품권을 줬다.
10. 일주일 학교 식단 메뉴에 대한 칼로리를 알려주고 칼로리를 소모할 수 있는 사제동행 걷기 프로그램, 비만관리 건강증진, 체중감량 도전, 미션에 성공하면 3달간에 감량하면 상품권을 주는 행사 진행도 좋다.
18. teenfit.kr 

## flow (수면)
너는 모바일 앱 기획자이자 시니어 풀스택 개발자다.
목표는 고등학생을 위한 “수면(취침/기상) 기록 + 규칙성 점수 + 가이드 메시지” 기능을 구현하는 것이다.
아래 요구사항을 반드시 반영해서, 개발 가능한 수준의 산출물을 만들어라.

[1] 기능 목표
- 학생이 취침/기상 시간을 기록한다.
- 수면시간과 규칙성(일관성)을 점수화(0~100)한다.
- 부족/과다 수면 및 불규칙 패턴에 대해 텍스트/음성(TTS 선택) 가이드 메시지를 제공한다.

[2] 핵심 기능 요구사항
A. 취침 알람(수면 시작 알림)
- 사용자는 취침 알람 시간을 설정한다.
- 알람이 울리면 사용자는 알람 끄기(또는 미루기)를 누른다.
- 앱은 알람을 끈 실제 시간(timestamp)을 저장한다.
- 저장 필드 예: bed_alarm_time, bed_dismissed_time

B. 기상 알람(수면 종료 알림)
- 사용자는 기상 알람 시간을 설정한다.
- 알람이 울리면 사용자는 알람 끄기(또는 미루기)를 누른다.
- 앱은 알람을 끈 실제 시간(timestamp)을 저장한다.
- 저장 필드 예: wake_alarm_time, wake_dismissed_time

C. 수면 기록 생성(자동)
- 같은 날짜/연속 구간에서 bed_dismissed_time → wake_dismissed_time을 하나의 수면 세션으로 묶는다.
- sleep_duration_minutes = wake - bed 로 계산한다.
- 예외 처리:
  1) 자정 전/후(예: 23:30~07:00) 자동 처리
  2) 알람 끄기 기록이 한쪽만 있으면 “미완료 기록”으로 저장

D. 부족/과다 수면 안내(피드백)
- 수면시간이 기준 범위보다 부족/과다하면 안내 메시지를 제공(텍스트 기본, TTS 옵션).
- 기본 메시지 예:
  - “30분만 더 일찍 자도 수면의 질이 달라져요”
  - “자기 30분 전엔 휴대폰 화면을 줄여보세요”
  - “일정한 기상 시간이 집중력에 도움돼요”
- 트리거:
  - sleep_duration < 최소 기준 → 부족 메시지
  - sleep_duration > 최대 기준 → 과다 메시지
  - 취침/기상 시간이 들쑥날쑥 → 규칙성 개선 메시지

E. 규칙성 점수화(수면 리듬 점수)
- 점수: 0~100
- 평가 요소(최소 2개):
  - 최근 7일 취침 시간 편차
  - 최근 7일 기상 시간 편차
- 출력:
  - 오늘 점수
  - 지난 7일 평균
  - 개선 팁 1개 자동 추천

[3] 화면/UX 최소 요구
- 수면 홈: 오늘 알람 설정 상태, 어젯밤 수면시간, 규칙성 점수
- 알람 설정 화면: 취침 알람, 기상 알람, 요일 반복(평일/주말)
- 수면 기록 화면: 날짜별 수면시간 리스트, 부족/적정/과다 라벨

[4] 데이터 요구사항(수면 세션 테이블)
- user_id
- date (기상 기준 날짜 권장)
- bed_alarm_time
- bed_dismissed_time
- wake_alarm_time
- wake_dismissed_time
- sleep_duration_minutes
- regularity_score
- feedback_message_id (노출 로그)

[5] 알림/메시지 정책
- 메시지 노출 방식: 텍스트(기본), TTS(옵션)
- 과도한 알림 방지:
  - 같은 유형 메시지는 하루 1회만
  - “오늘은 그만 보기” 옵션 제공

[6] 예외/엣지 케이스
- 알람을 안 끄고 자동 종료된 경우 기록 처리
- 취침만 있고 기상이 없는 경우(세션 미완성)
- 사용자가 수동으로 기록 수정 가능 여부 및 흐름
- 기상 시간이 오후로 찍히는 비정상 값 방지

[7] 산출물 형식(반드시 이 순서로)
1) 기능 범위 요약(1페이지 분량)
2) 화면 IA(페이지 목록) + 각 화면별 핵심 컴포넌트
3) DB 스키마(SQL) + 인덱스/제약조건(중복 세션 방지 포함)
4) 핵심 로직 의사코드:
   - 세션 생성 로직
   - 자정 넘김 처리
   - 미완료 기록 처리
   - 규칙성 점수 계산(편차→점수 변환 포함)
   - 피드백 메시지 선택기(하루 1회 제한 포함)
5) 테스트 시나리오 12개(정상/예외 각각 포함)
6) 개인정보/윤리 고려 체크리스트(학생 대상 서비스 기준, 최소 수집/표시 원칙)

추가 조건:
- 학생에게 “감량/다이어트” 느낌이 나지 않게 문구는 건강/습관 중심으로 작성한다.
- 모든 시간은 타임존(Asia/Seoul) 기준으로 처리한다.
- 구현 기술은 특정 프레임워크를 고정하지 말고, 모바일(Flutter/React Native) 모두 적용 가능하도록 중립적으로 작성한다.

## 배포: https://bliss-guard-95492533.figma.site/
